<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>关于昨天发版的问题反思 | QuJun</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.D90NeT7i.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CdvcQhzF.js"></script>
    <link rel="modulepreload" href="/assets/Javascript_ES6对象的扩展语法.md.DanIMN06.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CAcMrZkh.js">
    <link rel="modulepreload" href="/assets/Javascript_关于昨天发版的问题反思.md.CayWxPWS.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>QuJun</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>主页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Javascript/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>前端</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/others/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>杂记</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _Javascript_%E5%85%B3%E4%BA%8E%E6%98%A8%E5%A4%A9%E5%8F%91%E7%89%88%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8D%E6%80%9D" data-v-39a288b8><div><p>最为开发工程师，最重要的一项能力，就是在问题出现之后以最快的速度去判断问题的责任归属，然后去解决或协助他人解决。但是在交付评估的发版前遇到的bug（其实也不算什么bug，只是大家不清楚原因）。没有准确的判定问题的方向，导致多浪费的近三个小时的时间。下面是关于问题的流水账和反思，按时间点来记录的。</p><p><strong>需求</strong> 一线用户需要更新模版，但是他们还有季度评估的任务，所以只想更新交付评估模版。保留季度评估的模版和任务。</p><p><strong>过程记录</strong></p><ol><li>前端增加模版更新的按钮，清除所有交付评估的数据库数据，点登陆时拉取最新的。</li><li>后端模版也改好，获取模版时就是新的模版。</li><li>测试验证，先切换旧模版，再去更新app（app版本有更新会自动删除旧模版，用户登录后就会去拉取接口获取最新的模版数据。</li></ol><p><strong>下面是bug的情景</strong> 验证时（App 更新到最新的版本，接口也替换成最新的模版，但是App端显示的还是旧模版，这时候去杀掉进程，就是最新的模版数据）</p><hr><p>有时候杀掉进程不管用，还得清除缓存再杀掉进程。也是时好时坏（俊伯改好后有时App马上就会更新，有时却不会）</p><hr><p>这时候有几种看法：</p><ul><li>语轩：认为确实是缓存的问题。但是他倾向于后端把数据写入了App的缓存里。（这就解释了有时候杀掉进程是有效的）</li><li>书峰：它对杀掉进程会更新模版数据很不理解（认为前端的更新模版的方法出了问题，但是也只是猜测）但是有时后点击刷新模版进去就是好的。</li><li>myself：我肯定我的刷新按钮是没有问题的，但是竟然也相信了后端会操作App内存的方法，也一时不知道原因在哪里。</li></ul><p>上面就是大概的过程，导致我们竟然两个多小时去不断的杀进程，清数据，做这种无用功。作为评估组唯一的前端，没有起到相应的作用，找出原因。</p><p>正确的处理流程： 首先判断是不是接口的问题。这一步应该是最先做的，出现问题就去确认是否是这个原因。如果是接口返回的问题，OK，就算不是前端的锅了。或许还能给后端同事一点启发。 让后端同事继续排查问题。接下来就不管App的事了。</p><p>技术之路无止境。</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"CV9HqMK3\",\"javascript_chrome-插件初探.md\":\"C1ANB3aQ\",\"javascript_es6对象的扩展语法.md\":\"DanIMN06\",\"javascript_index.md\":\"Sr9T7FF7\",\"javascript_ios 键盘遮挡输入框的问题.md\":\"C0R3Y8Fn\",\"javascript_readme.md\":\"DslNo5ek\",\"javascript_关于昨天发版的问题反思.md\":\"CayWxPWS\",\"javascript_前端开发规范.md\":\"gCZAqCRz\",\"javascript_反思我的编程思考方式.md\":\"x5DDfm-B\",\"javascript_由一道题来看promise.md\":\"DkltHOv0\",\"javascript_移动端拖拽事件.md\":\"HcP-h9m6\",\"javascript_记一次-input-引发的bug.md\":\"qFHYhLhs\",\"others_2017已来，回顾2016.md\":\"utoGwGD-\",\"others_2025｜重启.md\":\"DfjsHHHm\",\"others_index.md\":\"UnfPe0lq\",\"others_readme.md\":\"DRpPUOav\",\"others_一切都准时.md\":\"BK1MfaaV\",\"others_一月.md\":\"CnJ2tn2O\",\"others_上帝是个程序员.md\":\"0-U1IdMl\",\"others_人类的未来.md\":\"lPFI_cgZ\",\"others_写给刚刚踏进天堂的你.md\":\"yi7bdiQb\",\"others_前三个月的总结.md\":\"Cw1mD8pW\",\"others_周末随笔 - 卡努.md\":\"VLmIKUiD\",\"others_校服姑娘.md\":\"OgPgN2C9\",\"others_生日之后的随写.md\":\"Ys0bRcL7\",\"others_考试前夕.md\":\"PbrNbhSo\",\"others_蓝色星球-忧虑.md\":\"DXbZz72u\",\"readme.md\":\"CBD9LZAy\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"QuJun\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"前端\",\"link\":\"/Javascript/\"},{\"text\":\"杂记\",\"link\":\"/others/\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>